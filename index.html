<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Webb Tools API - v0.1.4-85</title><meta name="description" content="Documentation for Webb Tools API - v0.1.4-85"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Webb Tools API - v0.1.4-85</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> Webb Tools API - v0.1.4-85 </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><h1 align="center">Webb Tools API üï∏Ô∏è </h1>
<div align="center">
<a href="https://www.webb.tools/">
    <img alt="Webb Logo" src="./.github/assets/webb-icon.svg" width="15%" height="30%" />
  </a>
  </div>
<p align="center">
    <strong>üöÄ Webb Tools API üöÄ </strong>
    <br />
    <sub> ‚ö†Ô∏è Beta Software ‚ö†Ô∏è </sub>
</p>

<div align="center" >

<p><a href="https://github.com/webb-tools/webb.js/actions"><img src="https://img.shields.io/github/workflow/status/webb-tools/webb.js/PR?style=flat-square" alt="GitHub Workflow Status"></a>
<a href="https://www.npmjs.com/package/@webb-tools/api"><img src="https://img.shields.io/npm/v/@webb-tools/api?logo=npm&style=flat-square" alt="npm"></a>
<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg?style=flat-square" alt="License Apache 2.0"></a>
<a href="https://twitter.com/webbprotocol"><img src="https://img.shields.io/twitter/follow/webbprotocol.svg?style=flat-square&label=Twitter&color=1DA1F2" alt="Twitter"></a>
<a href="https://t.me/webbprotocol"><img src="https://img.shields.io/badge/Telegram-gray?logo=telegram" alt="Telegram"></a>
<a href="https://discord.gg/cv8EfJu3Tn"><img src="https://img.shields.io/discord/833784453251596298.svg?style=flat-square&label=Discord&logo=discord" alt="Discord"></a></p>
</div>

<!-- TABLE OF CONTENTS -->
<h2 id="table-of-contents"> üìñ Table of Contents</h2>

<details open="open">
  <summary>Table of Contents</summary>
  <ul>
    <li><a href="#start"> Getting Started</a></li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#test">Testing</a></li>
    <li><a href="#contribute">Contributing</a></li>
    <li><a href="#license">License</a></li>
  </ul>  
</details>

<h1 id="start"> Getting Started  üéâ </h1>

<p>This library provides additional typing information for user to access Webb&#39;s modules by using <a href="https://github.com/polkadot-js/api">polkadot.js</a>.</p>
<p>For additional information, please refer to the <a href="https://webb-tools.github.io/webb.js/">Webb Tools API reference docs</a> or <a href="https://docs.webb.tools/v1/getting-started/overview/">Webb Tools Official Documentation</a> üìù. Have feedback on how to improve <code>webb.js</code>? Or have a specific question to ask? Checkout the <a href="https://github.com/webb-tools/feedback/discussions/categories/webb-dapp-feedback">Webb Dapp Feedback Discussion</a> üí¨.</p>
<h2 id="layout"> Package layout </h2>

<pre><code><span class="hl-0">packages</span><span class="hl-1">/</span><br/><span class="hl-1">  |</span><span class="hl-0">____api</span><span class="hl-1">/                 # </span><span class="hl-0">Contains</span><span class="hl-1"> </span><span class="hl-0">necessary</span><span class="hl-1"> </span><span class="hl-0">options</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">create</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> </span><span class="hl-0">polkadot</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> </span><span class="hl-2">API</span><span class="hl-1"> </span><span class="hl-0">instance</span><br/><span class="hl-1">  |</span><span class="hl-0">____app</span><span class="hl-1">-</span><span class="hl-0">util</span><span class="hl-1">/            # </span><span class="hl-0">Utilities</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">work</span><span class="hl-1"> </span><span class="hl-3">with</span><span class="hl-1"> </span><span class="hl-0">Webb</span><span class="hl-1"> </span><span class="hl-0">Network</span><span class="hl-1">.</span><br/><span class="hl-1">  |</span><span class="hl-0">____sdk</span><span class="hl-1">-</span><span class="hl-0">core</span><span class="hl-1">/            # </span><span class="hl-0">The</span><span class="hl-1"> </span><span class="hl-3">package</span><span class="hl-1"> </span><span class="hl-0">provides</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> </span><span class="hl-0">cleaner</span><span class="hl-1"> </span><span class="hl-2">API</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">underlying</span><span class="hl-1"> </span><span class="hl-4">`wasm-utils`</span><span class="hl-1">.</span><br/><span class="hl-1">  |</span><span class="hl-0">____types</span><span class="hl-1">/               # </span><span class="hl-0">Polkadot</span><span class="hl-1">.</span><span class="hl-0">js</span><span class="hl-1"> </span><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-6">definitions</span><span class="hl-1"> for Webb Network.</span><br/><span class="hl-1">  |____wasm-utils/          # Wasm utils for generating zero-knowledge proof and deposit notes. Consumed by `sdk-core`.</span>
</code></pre>

<a href="#prerequisites" id="prerequisites" style="color: inherit; text-decoration: none;">
  <h2>Prerequisites</h2>
</a>
<p>This repository makes use of node.js, yarn, Rust, and requires version 16. To install node.js binaries, installers, and source tarballs, please visit <a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>. Once node.js is installed you may proceed to install <a href="https://classic.yarnpkg.com/en/docs/install"><code>yarn</code></a>:</p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">global</span><span class="hl-1"> </span><span class="hl-0">yarn</span>
</code></pre>
<p>Great! Now your <strong>Node</strong> environment is ready! üöÄüöÄ</p>
<p>To install Rust, we will make use of <a href="https://rustup.rs">https://rustup.rs</a> installer and the <code>rustup</code> tool to manage the Rust toolchain.</p>
<p>First install and configure <code>rustup</code>:</p>
<pre><code class="language-bash"><span class="hl-7"># Install</span><br/><span class="hl-1">curl --proto </span><span class="hl-4">&#39;=https&#39;</span><span class="hl-1"> --tlsv1.2 -sSf https://sh.rustup.rs | sh</span><br/><span class="hl-7"># Configure</span><br/><span class="hl-8">source</span><span class="hl-1"> ~/.cargo/env</span>
</code></pre>
<p>Configure the Rust toolchain to default to the nightly version, add nightly and the nightly wasm target:</p>
<pre><code class="language-bash"><span class="hl-1">rustup default nightly</span><br/><span class="hl-1">rustup update</span><br/><span class="hl-1">rustup update nightly</span>
</code></pre>
<p>This repository makes use of <code>wasm-pack</code> for bindings between javascript and webassembly generated from rust. Install it with:</p>
<pre><code class="language-bash"><span class="hl-1">curl https://rustwasm.github.io/wasm-pack/installer/init.sh -sSf | sh</span>
</code></pre>
<p>Great! Now your <strong>Rust</strong> environment is ready! ü¶Ä ü¶Ä</p>

<a href="#installation-üíª" id="installation-üíª" style="color: inherit; text-decoration: none;">
  <h2>Installation üíª</h2>
</a>
<p>Once the development environment is set up, you may proceed install the required dependencies. </p>
<pre><code class="language-bash"><span class="hl-1">yarn install</span>
</code></pre>
<p><strong>To build:</strong></p>
<pre><code class="language-bash"><span class="hl-1">yarn build</span>
</code></pre>
<p><strong>To update fixtures:</strong></p>
<pre><code class="language-bash"><span class="hl-1">git submodule update --init --recursive</span>
</code></pre>
<h1 id="usage"> Usage </h1>

<h2 style="border-bottom:none"> Quick Start ‚ö° </h2>

<p>In order to make use of <code>@webb-tools/api</code> you will need to have a node available and running. Below we assume you have started a node locally, but you may also make use of our deployed <a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fstandalone1.webb.tools#/explorer">Standalone Testnet here</a>.</p>

<a href="#install-package-dependencies" id="install-package-dependencies" style="color: inherit; text-decoration: none;">
  <h4>Install package dependencies</h4>
</a>
<pre><code class="language-bash"><span class="hl-1">yarn add @polkadot/api @webb-tools/api@beta</span>
</code></pre>

<a href="#create-api-instance" id="create-api-instance" style="color: inherit; text-decoration: none;">
  <h4>Create API instance</h4>
</a>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">ApiPromise</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@polkadot/api&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">WsProvider</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@polkadot/rpc-provider&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">options</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@webb-tools/api&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-8">main</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-7">// the node endpoint</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-2">provider</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">WsProvider</span><span class="hl-1">(</span><span class="hl-4">&#39;ws://localhost:9944&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-2">api</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">ApiPromise</span><span class="hl-1">(</span><span class="hl-8">options</span><span class="hl-1">({ </span><span class="hl-0">provider</span><span class="hl-1"> }));</span><br/><span class="hl-1">    </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">api</span><span class="hl-1">.</span><span class="hl-0">isReady</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-7">// use the api</span><br/><span class="hl-1">    </span><span class="hl-7">//..</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">main</span><span class="hl-1">()</span>
</code></pre>

<a href="#use-api-to-interact-with-node" id="use-api-to-interact-with-node" style="color: inherit; text-decoration: none;">
  <h4>Use api to interact with node</h4>
</a>
<pre><code class="language-ts"><span class="hl-7">// query and display account data</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-2">data</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">api</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-0">system</span><span class="hl-1">.</span><span class="hl-8">account</span><span class="hl-1">(</span><span class="hl-4">&#39;5Dqf9U5dgQ9GLqdfaxXGjpZf9af1sCV8UrnpRgqJPbe3wCwX&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">.</span><span class="hl-8">toHuman</span><span class="hl-1">());</span>
</code></pre>

<a href="#usage-examples" id="usage-examples" style="color: inherit; text-decoration: none;">
  <h3>Usage examples</h3>
</a>
<p>We have included implementation examples for using this API to interact with an <a href="./examples/node/substrate/anchor.ts">Anchor</a> and <a href="./examples/node/substrate/mixer.ts">Mixer</a>. </p>
<p>To run the above mentioned usage examples you will need to use the experimental module loader and start a <a href="https://github.com/webb-tools/protocol-substrate#standalone-local-testnet">local substrate chain</a>. In addition please ensure you have updated the fixtures by running:</p>
<pre><code class="language-bash"><span class="hl-1">git submodule update --init --recursive</span>
</code></pre>
<p>Once started you may run the following command from root:</p>
<pre><code class="language-bash"><span class="hl-7"># Runs the Anchor usage example script</span><br/><span class="hl-1">NODE_OPTIONS=</span><span class="hl-4">&quot;--loader ./loader.js&quot;</span><span class="hl-1"> node ./examples/node/substrate/anchor.ts</span><br/><br/><span class="hl-7"># Runs the Mixer usage example script</span><br/><span class="hl-1">NODE_OPTIONS=</span><span class="hl-4">&quot;--loader ./loader.js&quot;</span><span class="hl-1"> node ./examples/node/substrate/mixer.ts</span>
</code></pre>
<h2 id="test"> Testing üß™ </h2>

<p>The following instructions outlines how to run webb.js API unit test suite and integration test suite.</p>
<p><strong>Note</strong>: You will need to run <code>yarn build</code> prior to running test suite. For integration tests, a Docker daemon must also be available.</p>

<a href="#to-run-all-tests---unit-integration-wasm-providers" id="to-run-all-tests---unit-integration-wasm-providers" style="color: inherit; text-decoration: none;">
  <h3>To run all tests - unit, integration, wasm, providers</h3>
</a>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">test</span>
</code></pre>

<a href="#to-run-unit-tests" id="to-run-unit-tests" style="color: inherit; text-decoration: none;">
  <h3>To run unit tests</h3>
</a>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-9">test</span><span class="hl-1">:</span><span class="hl-0">unit</span>
</code></pre>

<a href="#to-run-integration-tests" id="to-run-integration-tests" style="color: inherit; text-decoration: none;">
  <h3>To run integration tests</h3>
</a>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-9">test</span><span class="hl-1">:</span><span class="hl-0">integration</span>
</code></pre>

<a href="#to-run-wasm-tests" id="to-run-wasm-tests" style="color: inherit; text-decoration: none;">
  <h3>To run wasm tests</h3>
</a>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-9">test</span><span class="hl-1">:</span><span class="hl-0">wasm</span>
</code></pre>

<a href="#to-run-providers-test" id="to-run-providers-test" style="color: inherit; text-decoration: none;">
  <h3>To run providers test</h3>
</a>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-9">test</span><span class="hl-1">:</span><span class="hl-0">providers</span>
</code></pre>
<h2 id="contribute"> Contributing </h2>

<p>Interested in contributing to Webb.js? Thank you so much for your interest! We are always appreciative for contributions from the open-source community!</p>
<p>If you have a contribution in mind, please check out our <a href="./.github/CONTRIBUTING.md">Contribution Guide</a> for information on how to do so. We are excited for your first contribution!</p>

<a href="#lint-before-you-push-ü™•" id="lint-before-you-push-ü™•" style="color: inherit; text-decoration: none;">
  <h3>Lint before you push! ü™•</h3>
</a>
<p>Please ensure you lint and format your changes prior to opening a PR. </p>
<p><strong>To lint:</strong></p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">lint</span>
</code></pre>
<p><strong>To format:</strong></p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">format</span>
</code></pre>

<a href="#updating-chain-types" id="updating-chain-types" style="color: inherit; text-decoration: none;">
  <h2>Updating chain types</h2>
</a>
<p>In order to update the types for the runtimes we&#39;re interested in, you&#39;ll need to run a chain with the latest runtime. Currently, this is the egg standalone network.</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">update</span><span class="hl-1">-</span><span class="hl-0">metadata</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">polkadot</span><span class="hl-1">-</span><span class="hl-0">types</span><span class="hl-1">-</span><span class="hl-0">from</span><span class="hl-1">-</span><span class="hl-0">defs</span><span class="hl-1"> --</span><span class="hl-0">input</span><span class="hl-1"> </span><span class="hl-0">packages</span><span class="hl-1">/</span><span class="hl-0">types</span><span class="hl-1">/</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">interfaces</span><span class="hl-1"> --</span><span class="hl-3">package</span><span class="hl-1"> </span><span class="hl-0">sample</span><span class="hl-1">-</span><span class="hl-0">polkadotjs</span><span class="hl-1">-</span><span class="hl-0">typegen</span><span class="hl-1">/</span><span class="hl-0">interfaces</span><span class="hl-1"> --</span><span class="hl-0">endpoint</span><span class="hl-1"> </span><span class="hl-0">packages</span><span class="hl-1">/</span><span class="hl-0">types</span><span class="hl-1">/</span><span class="hl-0">src</span><span class="hl-1">/</span><span class="hl-0">metadata</span><span class="hl-1">/</span><span class="hl-0">metadata</span><span class="hl-1">.</span><span class="hl-0">json</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">polkadot</span><span class="hl-1">-</span><span class="hl-0">types</span><span class="hl-1">-</span><span class="hl-0">from</span><span class="hl-1">-</span><span class="hl-0">chain</span><span class="hl-1"> --</span><span class="hl-0">endpoint</span><span class="hl-1"> </span><span class="hl-9">ws</span><span class="hl-1">:</span><span class="hl-7">//localhost:9944 --output ./packages/types/src/interfaces</span>
</code></pre>
<h2 id="license"> License </h2>

<p>Licensed under <a href="LICENSE">Apache 2.0 license</a>.</p>
<p>Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in this crate by you, as defined in the Apache 2.0 license, shall be licensed as above, without any additional terms or conditions.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/api_src.html">api/src</a></li><li class=" tsd-kind-module"><a href="modules/app_util_src.html">app-<wbr/>util/src</a></li><li class=" tsd-kind-module"><a href="modules/sdk_core_src.html">sdk-<wbr/>core/src</a></li><li class=" tsd-kind-module"><a href="modules/types_src.html">types/src</a></li><li class=" tsd-kind-module"><a href="modules/wasm_utils_build_wasm_utils.html">wasm-<wbr/>utils/build/wasm-<wbr/>utils</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>